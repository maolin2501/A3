###############################################
# MoveIt Servo configuration for RS-A3 robot arm
# 使用雅可比矩阵进行实时笛卡尔增量控制
###############################################

use_gazebo: false

## Properties of incoming commands
command_in_type: "speed_units"  # 使用速度单位 (m/s, rad/s)
scale:
  linear: 0.5     # 最大线速度 m/s
  rotational: 1.0  # 最大角速度 rad/s
  joint: 0.5       # 关节速度缩放

## Properties of outgoing commands
publish_period: 0.02  # 50Hz
command_out_type: trajectory_msgs/JointTrajectory

publish_joint_positions: true
publish_joint_velocities: true
publish_joint_accelerations: false

## 平滑滤波插件
smoothing_filter_plugin_name: "online_signal_smoothing::ButterworthFilterPlugin"

## MoveIt properties
move_group_name: arm
planning_frame: base_link

## Other frames
ee_frame_name: end_effector
robot_link_command_frame: end_effector

## Stopping behaviour
incoming_command_timeout: 0.2  # 命令超时 (seconds)
num_outgoing_halt_msgs_to_publish: 4

## Configure handling of singularities and joint limits
lower_singularity_threshold: 17.0  # 奇异点减速阈值
hard_stop_singularity_threshold: 30.0  # 奇异点停止阈值
joint_limit_margin: 0.1  # 关节限位余量 (rad)

## Collision checking (禁用以提高性能)
check_collisions: false
