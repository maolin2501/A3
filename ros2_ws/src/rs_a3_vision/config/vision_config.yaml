# RS-A3 视觉抓取系统配置

# ============ 相机配置 ============
camera:
  width: 640
  height: 480
  fps: 30
  enable_depth: true
  enable_color: true
  align_depth: true
  use_mock: false  # 设为 true 使用模拟相机（无硬件时测试）
  depth_scale: 0.001  # 深度值到米的转换系数

# ============ 物体检测配置 ============
object_detector:
  model_path: "yolov8n.pt"  # YOLO 模型路径，可使用 yolov8s.pt, yolov8m.pt 等
  confidence_threshold: 0.5
  enable_yolo: true

# ============ 视觉伺服配置 ============
visual_servo:
  base_frame: "base_link"
  ee_frame: "end_effector"
  camera_frame: "camera_color_optical_frame"
  
  # 控制增益
  kp_linear: 0.5
  kp_angular: 0.3
  
  # 速度限制
  max_linear_vel: 0.1   # m/s
  max_angular_vel: 0.3  # rad/s
  
  # 距离参数
  approach_distance: 0.10  # 接近距离（末端停在物体上方的高度）
  grasp_distance: 0.02     # 触发抓取的距离阈值
  
  control_rate: 50.0  # Hz

# ============ 抓取管理配置 ============
grasp_manager:
  lift_height: 0.1      # 抓取后提起高度
  approach_speed: 0.05  # 接近速度
  grasp_timeout: 30.0   # 抓取超时时间

# ============ 手眼标定配置 ============
hand_eye_calibration:
  calibration_type: "eye_on_base"  # eye_on_base 或 eye_in_hand
  calibration_file: ""  # 标定文件路径，留空使用下面的手动值
  
  # 手动标定值 (base_link -> camera_link 的变换)
  # 这些值需要通过实际标定获得
  translation:
    x: 0.0
    y: -0.3   # 相机在机械臂左侧 30cm
    z: 0.5    # 相机在基座上方 50cm
  rotation:
    x: 0.0
    y: 0.707  # 相机俯视约 90 度
    z: 0.0
    w: 0.707
