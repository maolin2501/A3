# EL-A3 multi-arm controller configuration template
# This file serves as a template; actual configuration is dynamically generated by launch files

# ========================================
# arm1 controller configuration
# ========================================
arm1_controller_manager:
  ros__parameters:
    update_rate: 200

    arm1_joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster

    arm1_arm_controller:
      type: joint_trajectory_controller/JointTrajectoryController

arm1_arm_controller:
  ros__parameters:
    joints:
      - arm1_L1_joint
      - arm1_L2_joint
      - arm1_L3_joint
      - arm1_L4_joint
      - arm1_L5_joint
      - arm1_L6_joint
      - arm1_L7_joint  # Gripper joint

    command_interfaces:
      - position

    state_interfaces:
      - position
      - velocity

    open_loop_control: true
    allow_nonzero_velocity_at_trajectory_end: true
    interpolation_method: splines
    state_publish_rate: 200.0
    action_monitor_rate: 50.0

    constraints:
      stopped_velocity_tolerance: 0.1
      goal_time: 0.0
      arm1_L1_joint:
        goal: 0.03
      arm1_L2_joint:
        goal: 0.03
      arm1_L3_joint:
        goal: 0.03
      arm1_L4_joint:
        goal: 0.03
      arm1_L5_joint:
        goal: 0.03
      arm1_L6_joint:
        goal: 0.03
      arm1_L7_joint:
        goal: 0.03  # Gripper position tolerance

# ========================================
# arm2 controller configuration
# ========================================
arm2_controller_manager:
  ros__parameters:
    update_rate: 200

    arm2_joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster

    arm2_arm_controller:
      type: joint_trajectory_controller/JointTrajectoryController

arm2_arm_controller:
  ros__parameters:
    joints:
      - arm2_L1_joint
      - arm2_L2_joint
      - arm2_L3_joint
      - arm2_L4_joint
      - arm2_L5_joint
      - arm2_L6_joint
      - arm2_L7_joint  # Gripper joint

    command_interfaces:
      - position

    state_interfaces:
      - position
      - velocity

    open_loop_control: true
    allow_nonzero_velocity_at_trajectory_end: true
    interpolation_method: splines
    state_publish_rate: 200.0
    action_monitor_rate: 50.0

    constraints:
      stopped_velocity_tolerance: 0.1
      goal_time: 0.0
      arm2_L1_joint:
        goal: 0.03
      arm2_L2_joint:
        goal: 0.03
      arm2_L3_joint:
        goal: 0.03
      arm2_L4_joint:
        goal: 0.03
      arm2_L5_joint:
        goal: 0.03
      arm2_L6_joint:
        goal: 0.03
      arm2_L7_joint:
        goal: 0.03  # Gripper position tolerance